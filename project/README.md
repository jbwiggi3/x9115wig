# x9115wig - Final Coding Project
#Title: EvoSuite Modification

##Prepaper Notes
- I am currently unable to get the modified EvoSuite code base to submit to git (I believe because it is too large - 300 mb). I will try to only submit the modified files. 
- The code hasn't been finished yet, the EvoSuite code base is pretty large and took time to get into and I'm encountering errors when combining the jMetal algorithms with the system.
- The added classes are located in the evosuite/client/src/main/java/org/evosuite/ga/metaheuristics/ folder. They are DifferentialEvolution.java and MOEAD.java.
- The folder evosuite/client/src/main/java/org/evosuite/ is the portion of the code that needs to be modified in order to effect the generated jar (which will be explained in the paper).

##Abstract
Determining the robustness of a test suite has long been of interest to the software engineering community. Mutation testing was created as a way to determine how good a test suite was at capturing mutant versions of the code base and the surviving mutants could be used as inspiration for future additions to the test suite. Recently, an open source test suite pushed this line of work forward, using mutation to not only create variants of the code base, but also test cases to discover the mutants, called oracles. These oracles are generated by using some genetic algorithms to create the code of the test cases. This work adds more sophisticated algorithms to the open source system (differential evolution and MOEA/D) and displays how to get a local version of this system for personal use.

###Keywords:
Automatic test generation, mutation testing, genetic algorithms, Automatic Software Engineerings

##Introduction
Mutation testing is a way to test your test suite, mutating the code and seeing if the existing test suite can identify the mutant. Fraser & Zeller (2012) pushed this technology to the next level with EvoSuite, by not only mutating code but also test cases to capture mutants automatically. These tests, or oracles, ... Their approach was a step towards automatically generated test suites, which has been furthered with this work.
For this project I integrated a more sophisticated genetic algorithm and crowd pruner into EvoSuite and will make this publically available on EvoSuite.

##Overview of Algorithms
###Differential Evolution


###MOEA/D


##EvoSuite
EvoSuite is a suite of automatic test generation tools based on MuTest. In the article “Mutation-driven Generation of Unit Tests and Oracles” the authors were able to kill the mutants (generated by Javalanche) using automatically generated oracles via mutation. The goal of the unit test generation’s overall fitness function was to minimize distance to calling function and distance to mutation while maximizing mutation impact (reference paper for more information).

In this section, the author will explain how to get EvoSuite running on your local machine. For more information on EvoSuite visit their [website](http://www.evosuite.org/).

###Setting up EvoSuite
EvoSuite is publically available on [github](https://github.com/EvoSuite/evosuite). To begin setup, fork this repository and move your command line (or terminal) directory into the folder it downloaded into. Before beginning, make sure your JAVA_HOME environment variable is correctly set to where the JDK is downloaded.
EvoSuite is most easily installed using Maven ([Link](https://maven.apache.org/)). From command line (or terminal), install Maven using the *'mvn install'* command. Once that is finished, build EvoSuite in the command line with *'mvn compile'*. Finally, to create a binary distribution that includes all dependencies type *'mvn package'*.

###Running EvoSuite
EvoSuite has many capabilities not covered by this readme, so if you want to explore other EvoSuite functionality type *'java -jar evosuite-1.0.1.jar -options'* once the binary distribution has been generated.
To run evosuite, you will need a Java project that has had its .class files generated. I will use a simple program I created called PhysicsBuddy to display what a command to generate a test suite in EvoSuite looks like.

>java –jar evosuite-1.0.1.jar –projectCP /Users/adminuser/Documents/workspace/PhysicsPal/bin –class PhysicsBuddy

As can be seen above, the important elements are the '-projectCP', which stand for project class path and needs to point to where the .class files are generated, and the '-class', which is the name of the class you intend to generate tests for.

##Threats to Validity
One major issue with this work is that it has the flawed assumption that the code is bug free. If there were a bug, it would create tests that will only pass when that bug is present. This is because the system is agnostic of any of the code's objectives, it is only trying to get a thorough test suite. However, this does not mean that the tool is unuseful. Once a piece of code has been tested by developers and users and a large portion of the bugs had been caught, it would then be helpful to run EvoSuite, improving your test suite. This robust test suite would then be ideal for integration and regression testing.

##Conclusions
Leveraging open source code, automatic test generation can be accomplished. As stated in the *Threats to Validity*, these techniques need to be used in particular scenarios such that a test suite which allows for bugs is not created. However, the open source code is still in need of some modifications which are reviewed in the *Future Work* section.

##Future Work
The algorithms currently evolve agnostic of the pre-existing test cases, which means that original chromosomes are chosen in a pretty ignorant fashion. It would likely improve the system significantly if the original chromosomes were instead based on the pre-existing test cases, making it more likely to reach higher code coverage and have more meaningful tests. It might also decrease the amount of time it takes to reach its final set of test cases.

##Acknowledgements
The EvoSuite code was already created and publically available on github. Reference their [website](http://www.evosuite.org/) for more information. The new algorithms that were integrated into the system were from jMetal which is also pubically available [online](http://jmetal.sourceforge.net/).

##References
Fraser, G., & Zeller, A. (2012). Mutation-driven generation of unit tests and oracles. IEEE Transactions on Software Engineering, 38(2), 278-292.
